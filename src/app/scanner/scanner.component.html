<div class="slide-in-fwd-center" fxFill fxLayout="column" fxLayoutAlign="center center" >
  <app-navbar></app-navbar>

  <mat-form-field *ngIf="scannerEnabled" class="width-100 text-center lead-font bold" appearance="outline">
    <select matNativeControl matInput (change)="onDeviceSelectChange($event.target.value)">
      <option value="" [selected]="!currentDevice">No Device Selected</option>
      <option *ngFor="let device of availableDevices" [value]="device.deviceId"
        [selected]="currentDevice && device.deviceId === currentDevice.deviceId">{{device.label}}</option>
    </select>
  </mat-form-field>

  <zxing-scanner
    [(device)]="currentDevice"
    (camerasFound)="onCamerasFound($event)"
    (scanSuccess)="scanSuccessHandler($event)"
    [enable]="scannerEnabled">
  </zxing-scanner>

  <mat-spinner *ngIf="bLoading"></mat-spinner>

  <div *ngIf="personScanned">
    <p *ngIf="bPersonId" class="lead-font text-center"><strong class="bold">Person ID: </strong>{{personId}}</p>
    <p class="lead-font text-center"><strong class="bold">Person ID: </strong>{{personScanned.First_Name}}</p>
    <p class="lead-font text-center"><strong class="bold">First Name: </strong>{{personScanned.Family_Name}}</p>
    <p class="lead-font text-center"><strong class="bold">Family Name: </strong>{{personScanned.Company}}</p>
    <p class="lead-font text-center"><strong class="bold">Company: </strong>{{personScanned.Job_Title}}</p>
    <p class="lead-font text-center"><strong class="bold">Job Title: </strong>{{personScanned.Email}}</p>
    <p class="lead-font text-center"><strong class="bold">Email: </strong>{{personScanned.Mobile}}</p>
  </div>

  <button *ngIf="!scannerEnabled" (click)="reloadScanner()" class="leadlogic-btn" mat-raised-button>
    <span class="btn-text">SCAN AGAIN</span>
  </button>

</div>
